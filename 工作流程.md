实习日程
======
### 一、  页面风格改版
首页更改背景图片,以及后台更改主题色彩     
学习到freeMarker 的一些内容     
Freemarker与jsp的区别和联系        
### 二、  预约记录统计       
分享功能模块任务:预约记录统计     
学习sumif(“a==b”,1,0) 从而将行转为多列        
### 三、  了解停划算系统开发流程      
预约功能流程图     
### 四、  学习springcloud        
框架结构图  
zuul:网关，  
eurka:服务注册与发现中心  
config：配置服务  
fegin:微服务
### 五、  将springCloud Demo运行起来        
使用eurka和fegin 实现一个简单的demo,理解其流程     
### 六、  将预约服务添加到demo中        
### 七、  增加一个订单服务，并与预约服务进行交互      
原计划是使用httpclient来调用另外一个服务       
新方法服务的注入?       
### 八、  项目中config问题      
为什么引入config 服务启动的时候从git上读取
1.  每一个服务都有配置文件,配置麻烦,有一些共同的内容       
2.  服务运行中配置文件修改需要动服务器上的代码       
解决方法:       
将配置文件的读取也作为一种服务     
配置文件默认是放在git上的,服务启动的时候从git上读取,git文件修改后,config服务会通知子服务去修改配置      
注意点:配置文件的命名方式有一定的约定条件       
### 九、  项目中权限问题 
权限包括认证和鉴权，认证是证明身份，鉴权是对应身份的权限  
原项目中使用的是session中存储的parkid,存放位置redis,其他的解决方案是什么?
原项目中对资源（controller进行资源注解），之后角色绑定资源，在前端使用资源注解  
项目中的权限是怎么做的?  
zuul网关同时做请求转发和认证问题，认证方式是1.cookie 2.x-auth-token,前者是使用session,后者是在request的header中加入x-auth-token
http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html       
### 十、  项目中事务问题      
事务：DBMS当中用户程序的一次执行，事务是bdms执行的基本单元       
一个服务中的两个事务的问题       
一个服务中调用另外一个服务的问题—分布式事务  
基于消息队列的分布式事务的测试问题：多个服务并发测试，设置失败率（随机数）      
### 十一、 数据库乐观锁与悲观锁       
悲观锁：显式的为数据资源加锁，问题：解决不可重复读问题，影响并发性能      
    方法：1.sql   select .. for Update
            2.数据库中增加一个表明记录状态的LOCK字段，当取值为Y时，该记录被某个事务锁定       
乐观锁：假定当前事务操作数据资源时，不会有其他事务同时访问该数据资源，     
方法：应用程序采用版本控制手段（version）来避免可能出现的并发问题；       
Inndb 中mvcc 是通过每行记录后面保存两个隐藏的列来实现的，一个是创建的系统版本号，一个是行的（过期/删除）版本号，在重复读和读提交隔离级别下工作       
Insert:新插入的行保存当前系统版本号作为行版本号     
Delete:系统版本号作为行删除标示     
Update:插入新的一条记录，系统版本号为行版本号，系统版本号带原来行作为行删除标示     
Select:系统版本号在行系统版本号和删除版本号之间；        
### 十二、 Restful ap接口设计       
网址中不能有动词，只能有名词      
动词由http动词来表示：       
<code>
get:取得一个或者多个资源   
pust:  在服务器创建一个资源  
put:在服务器端更新资源  
delete:从服务器端删除资源
</code>
状态码:        
+ 200 ok    get 服务器成功返回用户请求的数据      
+ 201   ceeated post/put/patch  用户新建或修改数据成功         
+ 202   Accepted      表示请求已经进入后台排队      
+ 204   no content      用户删除数据成功        
+ 400   invalid request post/put/patch 用户发出的请求有错误，服务器没有进行新建或修改数据，该操作具有迷瞪型       
+ 401   Unauthorized    用户没有权限（令牌，用户名，密码错误）         
+ 403   Forbidden   表示用户得到授权（与401错误相对），但是访问是被禁止的        
+ 404   not found           用户发出的请求针对的是不存在的记录，服务器没有进行操作，操作具有迷瞪型
 
http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html
返回结果：  
+ get   /orders:返回资源对象的列表       
+ get   /order/{id} 返回单个资源对象        
+ post  /order      返回完成对象      
 

